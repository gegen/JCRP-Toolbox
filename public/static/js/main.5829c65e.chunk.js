(this["webpackJsonppublic-src"]=this["webpackJsonppublic-src"]||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},22:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(15),o=n.n(r),c=(n(22),n(3)),i=n(1),s=n.n(i),u=n(16);function f(e){for(var t=e.title,n=e.children,r=Object(a.useState)(!1),o=Object(c.a)(r,2),i=o[0],f=o[1],p=Object(a.useState)([]),m=Object(c.a)(p,2),d=m[0],S=m[1],h=Object(a.useState)(0),g=Object(c.a)(h,2),E=g[0],v=g[1],y=t,O=n,j=0;j<d.length;j++){var w,N;if(O.length)j===d.length-1&&(y=null!==(w=O[d[j]].props.title)&&void 0!==w?w:O[d[j]].props.label),O=O[d[j]].props.children;else j===d.length-1&&(y=null!==(N=O.props.title)&&void 0!==N?N:O.props.label),O=O.props.children}var x=a.Children.toArray(O).length;x-1<E&&v(x-1);var k=Object(a.useCallback)((function(e){if(e.data){var t=e.data;switch(t.type){case"display":void 0!==t.toogle?f(t.toogle):console.error("Invalid NUI display toogle");break;case"navigation":if("Up"===t.value)v(0===E?O.length-1:E-1);else if("Down"===t.value)E===O.length-1?v(0):v(E+1);else if("Enter"===t.value){var n=a.Children.toArray(O)[E];n.props.restricted?s.a.post("http://jcrp-toolbox/notification",JSON.stringify("~r~Only first responder have access.")):(n.type===b&&(v(0),S((function(e){return[].concat(Object(u.a)(e),[E])}))),n.props.onSelect&&n.props.onSelect())}else"Back"===t.value&&(0===d.length?s.a.post("http://jcrp-toolbox/close",JSON.stringify()):(v(d[d.length-1]),S(d.filter((function(e,t){return t<d.length-1})))))}}}),[O,E,d,v]);return Object(a.useEffect)((function(){return window.addEventListener("message",k),function(){window.removeEventListener("message",k)}}),[k]),i&&l.a.createElement("div",{className:"Container"},l.a.createElement("div",{className:"title"},y),l.a.createElement("ul",null,a.Children.map(O,(function(e,t){var n=t===E,a=e.props.label;return e.type===b?l.a.createElement("li",{className:n?"selected":""},a," ",l.a.createElement("span",{style:{float:"right",fontWeight:"bold"}},">")):l.a.createElement("li",{className:n?"selected":""},a)}))))}function p(){return null}function b(){return null}n(40);var m=function(){var e=Object(a.useState)(0),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)("Invalid"),i=Object(c.a)(o,2),u=i[0],m=i[1],d=Object(a.useState)(!1),S=Object(c.a)(d,2),h=S[0],g=S[1],E=Object(a.useState)({}),v=Object(c.a)(E,2),y=v[0],O=v[1],j=Object(a.useCallback)((function(e){if(e.data){var t=e.data;switch(t.type){case"closestPlayer":void 0===t.id||void 0===t.name?g(!1):(r(t.id),m(t.name),g(!0));break;case"k9Data":t.data&&O(t.data)}}}),[]);function w(e){s.a.post("http://jcrp-toolbox/setSpikes",JSON.stringify(e))}function N(e){s.a.post("http://jcrp-toolbox/spawnObject",JSON.stringify(e))}function x(e,t){s.a.post("http://jcrp-toolbox/"+e,JSON.stringify(t))}return Object(a.useEffect)((function(){return window.addEventListener("message",j),function(){window.removeEventListener("message",j)}}),[j]),l.a.createElement(f,{title:"JCRP Toolbox"},l.a.createElement(b,{restricted:!0!==y.auth,label:"Actions",title:h?"[".concat(n,"] ").concat(u):"No player nearby."},l.a.createElement(p,{label:"Cuff / Uncuff",onSelect:function(){if(!h)return s.a.post("http://jcrp-toolbox/displayMsg",JSON.stringify("No player nearby."));s.a.post("http://jcrp-toolbox/executeCommand",JSON.stringify("cuff "+n))}}),l.a.createElement(p,{label:"Drag",onSelect:function(){if(!h)return s.a.post("http://jcrp-toolbox/displayMsg",JSON.stringify("No player nearby."));s.a.post("http://jcrp-toolbox/executeCommand",JSON.stringify("drag "+n))}})),y.summoned?l.a.createElement(b,{restricted:!0!==y.auth,label:"K9"},l.a.createElement(p,{label:"Follow".concat(y.following?"ing":""),onSelect:function(){return x("k9follow")}}),l.a.createElement(p,{label:"Sit",onSelect:function(){return x("sit")}}),l.a.createElement(p,{label:"Laydown",onSelect:function(){return x("laydown")}}),l.a.createElement(p,{label:"Search player",onSelect:function(){return x("searchplayer")}}),l.a.createElement(p,{label:"Search vehicle",onSelect:function(){return x("searchvehicle")}}),l.a.createElement(p,{label:"Enter/Exit vehicle",onSelect:function(){return x("vehicletoggle")}}),l.a.createElement(p,{label:"Unsummon K9",onSelect:function(){return x("toggleK9")}})):l.a.createElement(b,{restricted:!0!==y.auth,label:"K9"},l.a.createElement(b,{label:"Summon K9"},l.a.createElement(p,{label:"State Police",onSelect:function(){return x("toggleK9","state")}}),l.a.createElement(p,{label:"Sheriff",onSelect:function(){return x("toggleK9","sheriff")}}),l.a.createElement(p,{label:"Police",onSelect:function(){return x("toggleK9","police")}}),l.a.createElement(p,{label:"Rescue",onSelect:function(){return x("toggleK9","rescue")}}),l.a.createElement(p,{label:"Security",onSelect:function(){return x("toggleK9","security")}}))),l.a.createElement(b,{restricted:!0!==y.auth,label:"Spikes"},l.a.createElement(p,{label:"Place Spikes",onSelect:function(){return w(!1)}}),l.a.createElement(p,{label:"Place 2x Spikes",onSelect:function(){return w(!0)}}),l.a.createElement(p,{label:"Remove Spikes",onSelect:function(){s.a.post("http://jcrp-toolbox/removeSpikes",JSON.stringify())}})),l.a.createElement(b,{label:"Objects",title:"Object Spawner"},l.a.createElement(p,{label:"Police Barrier",onSelect:function(){return N("policeBarrier")}}),l.a.createElement(p,{label:"Road Barrier",onSelect:function(){return N("roadBarrier")}}),l.a.createElement(p,{label:"Road Barrier Arrow",onSelect:function(){return N("roadBarrierArrow")}}),l.a.createElement(p,{label:"Traffic Cone",onSelect:function(){return N("cone")}}),l.a.createElement(p,{label:"Traffic Barrel",onSelect:function(){return N("trafficBarrel")}}),l.a.createElement(p,{label:"Remove Close Objects",onSelect:function(){s.a.post("http://jcrp-toolbox/deleteCloseObjects",JSON.stringify())}})),l.a.createElement(p,{label:"Hands up",onSelect:function(){s.a.post("http://jcrp-toolbox/executeCommand",JSON.stringify("e handsup"))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.5829c65e.chunk.js.map